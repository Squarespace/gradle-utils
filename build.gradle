buildscript {
    repositories {
        mavenCentral()
        maven { url "http://clojars.org/repo" }
    }

    dependencies {
        classpath "de.kotka.gradle:gradle-plugin:1.1.0"
    }
}

version = "0.2.0-SNAPSHOT"
group   = "de.kotka.gradle"

description = "A set of utilities to ease the life of gradle plugin developers"

ext.kotka = [
    repository:     "kotkade/gradle-utils",
    wrapperVersion: "1.8"
]

apply plugin: "kotka"
apply plugin: "groovy"

repositories {
    mavenCentral()
    maven { url "http://clojars.org/repo" }
}

dependencies {
    compile localGroovy()
    compile gradleApi()

    compile "de.kotka.groovy:zweig:0.3.0"

    testCompile('org.spockframework:spock-core:0.7-groovy-1.8') {
        exclude group: "org.codehaus.groovy", module: "groovy-all"
    }
}

task groovydocJar(type: Jar) {
    classifier = "javadoc"
    from project.groovydoc.outputs
}

task sourcesJar(type: Jar) {
    classifier = "sources"
    from(project.sourceSets.main.allSource) {
        exclude "**/*.swp"
    }
}

artifacts {
    archives project.groovydocJar
    archives project.sourcesJar
}
